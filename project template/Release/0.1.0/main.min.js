var AssetAdapter=function(){function t(){}var e=(__define,t),i=e.prototype;return i.getAsset=function(t,e,i){function n(n){e.call(i,n,t)}if(RES.hasRes(t)){var s=RES.getRes(t);s?n(s):RES.getResAsync(t,n,this)}else RES.getResByUrl(t,n,this,RES.ResourceItem.TYPE_IMAGE)},t}();egret.registerClass(AssetAdapter,"AssetAdapter",["eui.IAssetAdapter"]);var CheckPoint=function(t){function e(){t.call(this),this.initData()}__extends(e,t);var i=__define,n=e,s=n.prototype;return s.initData=function(){this._checkedCounts=0,this._hasChecked=!1},i(s,"checkDrag",function(){return this._checkDrag}),s.setCheckDrag=function(t){this._checkDrag=t},s.setChecked=function(t){1==t?this._checkedCounts++:this._checkedCounts--,this._hasChecked=t},i(s,"hasChecked",function(){return this._hasChecked}),i(s,"checkedCounts",function(){return this._checkedCounts}),e}(eui.Component);egret.registerClass(CheckPoint,"CheckPoint");var Drag=function(t){function e(){t.call(this),this.checkPoint=new egret.DisplayObject,this.offsetX=0,this.offsetY=0,this._lockIndex=0,this.dataObj=new Object,this.oldObj=new Object,this.addEventListener(egret.Event.ADDED_TO_STAGE,this.onAddToStage,this)}__extends(e,t);var i=(__define,e),n=i.prototype;return n.onAddToStage=function(t){},n.start=function(t,e,i,n){void 0===e&&(e=0),void 0===i&&(i=0),this.offsetX=e,this.offsetY=i,this.checkPoint=n,this.dragObject=t,this.dragObject.visible=!0,this.dragObject.touchEnabled=!0,this.dragObject.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onTouchBegin,this),this.dragObject.addEventListener(egret.TouchEvent.TOUCH_END,this.onTouchEend,this),this.canvas=document.getElementsByTagName("CANVAS")[0]},n.onTouchBegin=function(t){this.stage.addEventListener(egret.TouchEvent.TOUCH_MOVE,this.onTouchMove,this),console.log("TOUCH_BEGIN")},n.onTouchEend=function(t){this.stage.removeEventListener(egret.TouchEvent.TOUCH_MOVE,this.onTouchMove,this),this.hitCheckTarget(),console.log("TouchEend")},n.onStartDrage=function(){this._lockIndex=0;var t=this;this.canvas.addEventListener("mousemove",function(e){if(0==t._lockIndex){var i=e.currentTarget,n=window.getComputedStyle(i,null),s=i.getBoundingClientRect(),a=t.dd();window.ActiveXObject||"ActiveXObject"in window?(a.x=(e.clientX-s.left)*(i.width/parseFloat(n.width))-15,a.y=(e.clientY-s.top)*(i.height/parseFloat(n.height))-160):e.x?(a.x=(e.x-s.left)*(i.width/parseFloat(n.width))-15,a.y=(e.y-s.top)*(i.height/parseFloat(n.height))-160):(a.x=(e.clientX-s.left)*(i.width/parseFloat(n.width))-15,a.y=(e.clientY-s.top)*(i.height/parseFloat(n.height))-160)}})},n.dd=function(){return this.dragObject},n.onTouchMove=function(t){this.dragObject?(this.dragObject.x=t.stageX-this.dragObject.width*this.dragObject.scaleX/2-this.dragObject.anchorOffsetX*(this.dragObject.width*this.dragObject.scaleX)+this.offsetX,this.dragObject.y=t.stageY-this.dragObject.height*this.dragObject.scaleY/2+this.dragObject.anchorOffsetY*(this.dragObject.height*this.dragObject.scaleY)+this.offsetY):this.stop()},n.stop=function(){this.stage.removeEventListener(egret.TouchEvent.TOUCH_MOVE,this.onTouchMove,this),this.dragObject.removeEventListener(egret.TouchEvent.TOUCH_END,this.onTouchEend,this),this.dragObject.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onTouchBegin,this)},n.hitCheckTarget=function(){if(null==this.dragObject||null==this.checkPoint)return void this.hideDrag();if(component.HitTestUtil.hitTest(this.dragObject,this.checkPoint))if(console.log("开始："+String(this.checkPoint._checkedCounts)),0==this.checkPoint._checkedCounts){switch(console.log("hitChecked：——"+String(this.checkPoint._checkedCounts)),this._lockIndex=1,this.dragObject.name){case"part_1":this.dragObject.x=this.checkPoint.x-7,this.dragObject.y=this.checkPoint.y-5,this.parent.addRecords("装上零件——通气帽左");break;case"part_2":this.dragObject.x=this.checkPoint.x-5,this.dragObject.y=this.checkPoint.y+1,this.parent.addRecords("装上零件——通气帽右");break;case"tool_1":this.dragObject.x=this.checkPoint.x-7,this.dragObject.y=this.checkPoint.y-5,this.parent.addRecords("装上工具——堵头左");break;case"tool_2":this.dragObject.x=this.checkPoint.x-9,this.dragObject.y=this.checkPoint.y-6,this.parent.addRecords("装上工具——堵头右")}this.dataObj.dragObject=this.dragObject,this.dataObj.checkPoint=this.checkPoint,this.dataObj.isHit=!0,this.dispatchEvent(new DataEvents(DataEvents.part_hide_index,this.dataObj)),this.checkPoint.setChecked(!0),this.checkPoint.setCheckDrag(this.dragObject)}else this.hideDrag();else console.log("unhitChecked2：——"+String(this.checkPoint._checkedCounts)),this.dragObject.visible=!1,this.dataObj.dragObject=this.dragObject,this.dataObj.checkPoint=this.checkPoint,this.dataObj.isHit=!1,this.dragObject.x=this.dragObject._origX,this.dragObject.y=this.dragObject._origY,this.dispatchEvent(new DataEvents(DataEvents.part_hide_index,this.dataObj)),null!=this.checkPoint&&this.checkPoint.checkedCounts>0&&this.checkPoint.checkDrag==this.dragObject&&this.checkPoint.setChecked(!1),this.setRecord(this.dragObject.name)},n.hideDrag=function(){null!=this.checkPoint&&this.checkPoint.checkedCounts>0&&this.checkPoint.checkDrag==this.dragObject&&this.checkPoint.setChecked(!1),this.dragObject.visible=!1,this.dataObj.dragObject=this.dragObject,this.dataObj.checkPoint=this.checkPoint,this.dataObj.isHit=!1,this.dragObject.x=this.dragObject._origX,this.dragObject.y=this.dragObject._origY,this.dispatchEvent(new DataEvents(DataEvents.part_hide_index,this.dataObj)),this.setRecord(this.dragObject.name)},n.setRecord=function(t){switch(t){case"part_1":this.parent.addRecords("拆下零件——通气帽左，放进零件箱中");break;case"part_2":this.parent.addRecords("拆下零件——通气帽右，放进零件箱中");break;case"tool_1":this.parent.addRecords("拆下工具——堵头左，放进工具箱中");break;case"tool_2":this.parent.addRecords("拆下工具——堵头右，放进工具箱中")}},e}(eui.Component);egret.registerClass(Drag,"Drag");var component;!function(t){function e(t){var e=new egret.Bitmap,i=RES.getRes(t);return e.texture=i,e}var i=function(){function t(){}var e=(__define,t);e.prototype;return t.hitTest=function(t,e){var i=t.getBounds(),n=e.getBounds();return i.x=t.x,i.y=t.y,n.x=e.x,n.y=e.y,i.intersects(n)},t}();t.HitTestUtil=i,egret.registerClass(i,"component.HitTestUtil"),t.createBitmapByName=e}(component||(component={}));var MovieClipUtil=function(t){function e(){t.call(this)}__extends(e,t);var i=(__define,e),n=i.prototype;return n.initData=function(t,e){this._parth=t,this._name=e;var i=new egret.URLLoader;i.dataFormat=egret.URLLoaderDataFormat.TEXT,i.addEventListener(egret.Event.COMPLETE,this.onLoadJsonComplete,this);var n=this._parth+".json",s=new egret.URLRequest(n);i.load(s)},n.onLoadJsonComplete=function(t){var e=t.target;this.data=JSON.parse(e.data);var e=new egret.URLLoader;e.dataFormat=egret.URLLoaderDataFormat.TEXTURE,e.addEventListener(egret.Event.COMPLETE,this.onLoadTextureComplete,this);var i=this._parth+".png",n=new egret.URLRequest(i);e.load(n)},n.onPNGProgress=function(t){var e=t.bytesLoaded/t.bytesTotal;console.log(e)},n.onLoadTextureComplete=function(t){var e=t.target;this.texture=e.data,this.dispatchEvent(new DataEvents(DataEvents.sceneMC_load_completed)),this.createMovieClip()},n.createMovieClip=function(){var t=new egret.MovieClipDataFactory(this.data,this.texture),e=new egret.MovieClip(t.generateMovieClipData(this._name));this.addChild(e),e.addEventListener(egret.Event.COMPLETE,function(){console.log("COMPLETE"),this.dispatchEvent(new DataEvents(DataEvents.sceneMC_play_completed))},this),e.addEventListener(egret.Event.LOOP_COMPLETE,function(){console.log("LOOP_COMPLETE")},this),e.gotoAndPlay(1,1)},e}(egret.DisplayObjectContainer);egret.registerClass(MovieClipUtil,"MovieClipUtil");var RESLoadUtil=function(){function t(t){this._groupName=t,this.initData()}var e=(__define,t),i=e.prototype;return i.initData=function(){RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.addEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onResourceLoadError,this),RES.addEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceProgress,this),RES.addEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,this.onItemLoadError,this),RES.loadGroup(this._groupName)},i.onResourceLoadComplete=function(t){t.groupName==this._groupName&&(RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.removeEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onResourceLoadError,this),RES.removeEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceProgress,this),RES.removeEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,this.onItemLoadError,this),console.log("RESLoadUtil:"+this._groupName))},i.onItemLoadError=function(t){console.warn("Url:"+t.resItem.url+" has failed to load")},i.onResourceLoadError=function(t){console.warn("Group:"+t.groupName+" has failed to load"),this.onResourceLoadComplete(t)},i.onResourceProgress=function(t){t.groupName==this._groupName},t}();egret.registerClass(RESLoadUtil,"RESLoadUtil");var SoundPanel=function(t){function e(){t.call(this),this.soundAry=["resource/assets/Sound/dwysn.mp3"],this.soundIndex=0}__extends(e,t);var i=(__define,e),n=i.prototype;return n.initdata=function(){var t=RES.getRes("dwysn_mp3");t.play()},n.loadSound=function(t){null!=this._soudChanel&&this._soudChanel.stop(),this.sound.addEventListener(egret.Event.COMPLETE,this.onSoundComplete,this),this.sound.addEventListener(egret.IOErrorEvent.IO_ERROR,this.onSoundError,this),this.sound.load(t)},n.onSoundComplete=function(t){this._soudChanel=this.sound.play()},n.onSoundError=function(t){console.log("loaded error!"),alert("loaded error!")},n.onBtn_pre=function(t){if(this.soundIndex>0){this.soundIndex--;var e=this.soundAry[this.soundIndex];this.loadSound(e)}},n.onBtn_next=function(t){if(this.soundIndex<this.soundAry.length-1){this.soundIndex++;var e=this.soundAry[this.soundIndex];this.loadSound(e)}},n.reset=function(){null!=this._soudChanel&&this._soudChanel.stop(),null!=this.sound&&(this.sound=null)},e}(egret.Sprite);egret.registerClass(SoundPanel,"SoundPanel");var DataEvents=function(t){function e(e,i,n,s,a){void 0===i&&(i=null),void 0===n&&(n=null),void 0===s&&(s=!1),void 0===a&&(a=!1),t.call(this,e,s,a),this._params=i,this._container=n}__extends(e,t);var i=__define,n=e,s=n.prototype;return i(s,"params",function(){return this._params}),i(s,"container",function(){return this._container}),e.btnExplain_click="btnExplain_click",e.btnPractice_click="btnPractice_click",e.btnQuizzes_click="btnQuizzes_click",e.btn_trainRecords_click="btn_trainRecords_click",e.btn_standard_click="btn_standard_click",e.btn_parts_click="btn_parts_click",e.btn_tools_click="btn_tools_click",e.btn_restart_click="btn_restart_click",e.btnBackbomepag_click="btnBackbomepag_click",e.btn_nextScene_click="btn_nextScene_click",e.sceneMC_load_completed="sceneMC_load_completed",e.sceneMC_play_completed="sceneMC_play_completed",e.show_part_index="show_part_index",e.show_tool_index="show_tool_index",e.part_hide_index="part_hide_index",e.tool_hide_index="tool_hide_index",e}(egret.Event);egret.registerClass(DataEvents,"DataEvents");var LoadingUI=function(t){function e(){t.call(this),this.createView()}__extends(e,t);var i=(__define,e),n=i.prototype;return n.createView=function(){this.textField=new egret.TextField,this.addChild(this.textField),this.textField.y=0,this.textField.width=480,this.textField.height=100,this.textField.textAlign="center"},n.setProgress=function(t,e){this.textField.text="Loading..."+t+"/"+e},e}(egret.Sprite);egret.registerClass(LoadingUI,"LoadingUI");var Main=function(t){function e(){t.apply(this,arguments),this.isThemeLoadEnd=!1,this.isResourceLoadEnd=!1}__extends(e,t);var i=(__define,e),n=i.prototype;return n.createChildren=function(){t.prototype.createChildren.call(this);var e=new AssetAdapter;this.stage.registerImplementation("eui.IAssetAdapter",e),this.stage.registerImplementation("eui.IThemeAdapter",new ThemeAdapter),this.loadingView=new LoadingUI,this.stage.addChild(this.loadingView),this.loadingView.x=(this.stage.stageWidth-this.loadingView.width)/2,this.loadingView.y=(this.stage.stageHeight-this.loadingView.height)/2,RES.addEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this),RES.loadConfig("resource/default.res.json","resource/")},n.onConfigComplete=function(t){RES.removeEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this);var e=new eui.Theme("resource/default.thm.json",this.stage);e.addEventListener(eui.UIEvent.COMPLETE,this.onThemeLoadComplete,this),RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.addEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onResourceLoadError,this),RES.addEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceProgress,this),RES.addEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,this.onItemLoadError,this),RES.loadGroup("preload")},n.onThemeLoadComplete=function(){this.isThemeLoadEnd=!0,this.createScene()},n.onResourceLoadComplete=function(t){"preload"==t.groupName&&(this.stage.removeChild(this.loadingView),RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.removeEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onResourceLoadError,this),RES.removeEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceProgress,this),RES.removeEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,this.onItemLoadError,this),this.isResourceLoadEnd=!0,this.createScene(),new RESLoadUtil("sence3"))},n.createScene=function(){this.isThemeLoadEnd&&this.isResourceLoadEnd&&this.startCreateScene()},n.onItemLoadError=function(t){console.warn("Url:"+t.resItem.url+" has failed to load")},n.onResourceLoadError=function(t){console.warn("Group:"+t.groupName+" has failed to load"),this.onResourceLoadComplete(t)},n.onResourceProgress=function(t){"preload"==t.groupName&&this.loadingView.setProgress(t.itemsLoaded,t.itemsTotal)},n.startCreateScene=function(){var t=this.createBitmapByName("bg_0a_png");this.addChild(t);var e=this.stage.stageWidth,i=this.stage.stageHeight;t.width=e,t.height=i,this.mainUI=new MainUI,this.addChild(this.mainUI),this.mainUI.x=0,this.mainUI.y=0,this.mainUI.addEventListener(DataEvents.btnExplain_click,this.onBtnExplainClick,this),this.mainUI.addEventListener(DataEvents.btnPractice_click,this.onBtnPracticeClick,this),this.mainUI.addEventListener(DataEvents.btnQuizzes_click,this.onBtnQuizzesClick,this),this.stage.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchTap,this)},n.onTouchTap=function(t){null==this.soundPanel&&(this.soundPanel=new SoundPanel,this.addChild(this.soundPanel),this.soundPanel.initdata())},n.onBtnExplainClick=function(t){},n.onBtnPracticeClick=function(t){var e=t.currentTarget;e.visible=!1,null==this._practicePanel?this.loadPracticePanel():this._practicePanel.visible=!0},n.loadPracticePanel=function(){this._practicePanel=new PracticePanel,this.addChild(this._practicePanel),this._practicePanel.x=0,this._practicePanel.y=153,this._practicePanel.addEventListener(DataEvents.btnBackbomepag_click,this.onBtnBackbomepagClick,this),this._practicePanel.addEventListener(DataEvents.btn_restart_click,this.onBtnRestartClick,this)},n.onBtnBackbomepagClick=function(t){var e=t.currentTarget;e.visible=!1,this.removePracticePanel(),this.mainUI.visible=!0},n.onBtnRestartClick=function(t){this.removePracticePanel(),this.loadPracticePanel()},n.removePracticePanel=function(){null!=this._practicePanel&&this.contains(this._practicePanel)&&(this.removeChild(this._practicePanel),this._practicePanel=null)},n.onBtnQuizzesClick=function(t){},n.createBitmapByName=function(t){var e=new egret.Bitmap,i=RES.getRes(t);return e.texture=i,e},e}(eui.UILayer);egret.registerClass(Main,"Main");var ThemeAdapter=function(){function t(){}var e=(__define,t),i=e.prototype;return i.getTheme=function(t,e,i,n){function s(t){e.call(n,t)}function a(e){e.resItem.url==t&&(RES.removeEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,a,null),i.call(n))}RES.addEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,a,null),RES.getResByUrl(t,s,this,RES.ResourceItem.TYPE_TEXT)},t}();egret.registerClass(ThemeAdapter,"ThemeAdapter",["eui.IThemeAdapter"]);var MainUI=function(t){function e(){t.call(this),this.initdata()}__extends(e,t);var i=(__define,e),n=i.prototype;return n.initdata=function(){var t=new eui.Component;t.skinName="resource/eui_skins/MainUISkin.exml",this.addChild(t),t.x=0,t.y=0,t.btnExplain.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onBtnExplain,this),t.btnPractice.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onBtnPractice,this),t.btnQuizzes.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onBtnQuizzes,this)},n.onBtnExplain=function(t){var e=new DataEvents(DataEvents.btnExplain_click);this.dispatchEvent(e)},n.onBtnPractice=function(t){var e=new DataEvents(DataEvents.btnPractice_click);this.dispatchEvent(e)},n.onBtnQuizzes=function(t){var e=new DataEvents(DataEvents.btnQuizzes_click);this.dispatchEvent(e)},e}(egret.Sprite);egret.registerClass(MainUI,"MainUI");var PartsPanel=function(t){function e(){t.call(this),this.dragObject=new eui.Image,this.initData()}__extends(e,t);var i=(__define,e),n=i.prototype;return n.initData=function(){this.skinName="resource/eui_skins/Panel/PartsPanelSkin.exml",this.btn_close.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onBtnClose,this);for(var t=0;t<this.numChildren;t++)-1!=this.getChildAt(t).name.indexOf("partBtn_")&&(this.getChildAt(t).visible=!1,this.getChildAt(t).addEventListener(egret.TouchEvent.TOUCH_TAP,this.onPartBtnClick,this))},n.onBtnClose=function(t){this.visible=!1},n.showPart=function(t){null!=this["partBtn_"+t]&&(this["partBtn_"+t].visible=!0)},n.hidePart=function(t){null!=this["partBtn_"+t]&&(this["partBtn_"+t].visible=!1)},n.onPartBtnClick=function(t){var e=t.currentTarget,i=parseInt(t.currentTarget.name.substr(8));e.visible=!1,this.visible=!1,this.dispatchEvent(new DataEvents(DataEvents.show_part_index,i))},n.onTouchMove=function(t){this.dragObject&&(this.dragObject.x=t.stageX-this.dragObject.width*this.dragObject.scaleX/2-this.dragObject.anchorOffsetX*(this.dragObject.width*this.dragObject.scaleX)+1,this.dragObject.y=t.stageY-this.dragObject.height*this.dragObject.scaleY/2+this.dragObject.anchorOffsetY*(this.dragObject.height*this.dragObject.scaleY)-150)},e}(eui.Component);egret.registerClass(PartsPanel,"PartsPanel");var PracticePanel=function(t){function e(){t.call(this),this._littlePanelAry=new Array,this._sceneIndex=1,this.initdata()}__extends(e,t);var i=(__define,e),n=i.prototype;return n.initdata=function(){this.skinName="resource/eui_skins/Panel/PracticePanelSkin.exml",this.btn_trainRecords.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTrainRecordsClick,this),this.btn_standard.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTrainRecordsClick,this),this.btn_parts.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTrainRecordsClick,this),this.btn_tools.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTrainRecordsClick,this),this.btn_restart.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTrainRecordsClick,this),this.btn_backHomrpage.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTrainRecordsClick,this),this.btn_nextScene.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTrainRecordsClick,this),this._trainRecordsPanel=new RecordsPanel,this.addChildAt(this._trainRecordsPanel,this.numChildren-1),this._trainRecordsPanel.x=300,this._trainRecordsPanel.y=90,this._littlePanelAry.push(this._trainRecordsPanel),this.closelittlPanel(this._trainRecordsPanel),this._trainRecordsPanel.visible=!1,this._partsPanel=new PartsPanel,this.addChildAt(this._partsPanel,this.numChildren-1),this._partsPanel.x=300,this._partsPanel.y=90,this._littlePanelAry.push(this._partsPanel),this.closelittlPanel(this._partsPanel),this._partsPanel.visible=!1,this._partsPanel.addEventListener(DataEvents.show_part_index,this.onShowPart,this),this._toolsPanel=new ToolsPanel,this.addChildAt(this._toolsPanel,this.numChildren-1),this._toolsPanel.x=300,this._toolsPanel.y=90,this._littlePanelAry.push(this._toolsPanel),this.closelittlPanel(this._toolsPanel),this._toolsPanel.visible=!1,this._toolsPanel.addEventListener(DataEvents.show_tool_index,this.onShowTool,this);for(var t=0;t<this.numChildren;t++)-1!=this.getChildAt(t).name.indexOf("part_")&&(this.getChildAt(t).visible=!1,this.getChildAt(t)._origX=this.getChildAt(t).x,this.getChildAt(t)._origY=this.getChildAt(t).y),-1!=this.getChildAt(t).name.indexOf("tool_")&&(this.getChildAt(t).visible=!1,this.getChildAt(t)._origX=this.getChildAt(t).x,this.getChildAt(t)._origY=this.getChildAt(t).y);0==egret.Capabilities.isMobile?this.desktopToolkit.visible=!1:this.desktopToolkit.visible=!0},n.onTrainRecordsClick=function(t){var e=t.currentTarget;switch(e){case this.btn_trainRecords:this.onTrainRecordsPanel();break;case this.btn_standard:this.onStandardPanel();break;case this.btn_parts:this.onPartsPanel();break;case this.btn_tools:this.onToolsPanel();break;case this.btn_restart:this.dispatchEvent(new DataEvents(DataEvents.btn_restart_click));break;case this.btn_backHomrpage:this.dispatchEvent(new DataEvents(DataEvents.btnBackbomepag_click));break;case this.btn_nextScene:this.onBtnNextSceneClick()}},n.onBtnNextSceneClick=function(){if(1==this._sceneIndex)null==this.scene2&&(this.scene2=new Scene2View,this.addChild(this.scene2),this.addRecords("播放第一个场景转换动画"));else if(2==this._sceneIndex){var t=new Scene3View;this.addChild(t),this.addRecords("播放第二个场景转换动画"),this._sceneIndex=3}},n.onTrainRecordsPanel=function(){null==this._trainRecordsPanel?(this._trainRecordsPanel=new RecordsPanel,this.addChildAt(this._trainRecordsPanel,this.numChildren-1),this._trainRecordsPanel.x=300,this._trainRecordsPanel.y=90,this._littlePanelAry.push(this._trainRecordsPanel),this.closelittlPanel(this._trainRecordsPanel)):1==this._trainRecordsPanel.visible?this._trainRecordsPanel.visible=!1:(this._trainRecordsPanel.visible=!0,this.closelittlPanel(this._trainRecordsPanel))},n.onStandardPanel=function(){null==this._standardPanel?(this._standardPanel=new StandardPanel,this.addChildAt(this._standardPanel,this.numChildren-1),this._standardPanel.x=300,this._standardPanel.y=90,this._littlePanelAry.push(this._standardPanel),this.closelittlPanel(this._standardPanel)):1==this._standardPanel.visible?this._standardPanel.visible=!1:(this._standardPanel.visible=!0,this.closelittlPanel(this._standardPanel))},n.onPartsPanel=function(){null==this._partsPanel?(this._partsPanel=new PartsPanel,this.addChildAt(this._partsPanel,this.numChildren-1),this._partsPanel.x=300,this._partsPanel.y=90,this._littlePanelAry.push(this._partsPanel),this.closelittlPanel(this._partsPanel)):1==this._partsPanel.visible?this._partsPanel.visible=!1:(this._partsPanel.visible=!0,this.closelittlPanel(this._partsPanel))},n.onToolsPanel=function(){null==this._toolsPanel?(this._toolsPanel=new ToolsPanel,this.addChildAt(this._toolsPanel,this.numChildren-1),this._toolsPanel.x=300,this._toolsPanel.y=90,this._littlePanelAry.push(this._toolsPanel),this.closelittlPanel(this._toolsPanel)):1==this._toolsPanel.visible?this._toolsPanel.visible=!1:(this._toolsPanel.visible=!0,this.closelittlPanel(this._toolsPanel))},n.closelittlPanel=function(t){this.setChildIndex(t,this.numChildren-1);for(var e=0;e<this._littlePanelAry.length;e++)this._littlePanelAry[e]!=t&&(this._littlePanelAry[e].visible=!1)},n.onShowPart=function(t){var e=t.params,i=this["part_"+e];null!=i&&(i.visible=!0,this.setChildIndex(i,this.numChildren-1),this.onDrag(i))},n.onShowTool=function(t){var e=t.params,i=this["tool_"+e];null!=i&&(i.visible=!0,this.setChildIndex(i,this.numChildren-1),this.onDrag(i))},n.onDrag=function(t){var e,i=t.name.substr(5);e=null==this.scene2?null:this.scene2["cPoint_"+i+"_2"],t.start(t,1,-150,e),t.onStartDrage(),t.addEventListener(DataEvents.part_hide_index,this.onPartHideIndex,this)},n.onPartHideIndex=function(t){var e=t.params;if(0==e.isHit){var i=e.dragObject.name.substr(5),n=e.dragObject.name;-1!=n.indexOf("part_")?this._partsPanel.showPart(i):-1!=n.indexOf("tool_")&&this._toolsPanel.showPart(i),this.onHandle()}else switch(e.dragObject.name){case"tool_1":this._condi_1=e,this.onHandle();break;case"tool_2":this._condi_2=e,this.onHandle()}},n.onHandle=function(){this._sceneIndex<3&&(null!=this._condi_1&&null!=this._condi_2?1==this._condi_1.isHit&&1==this._condi_2.isHit?(this._sceneIndex=2,this.btn_nextScene.visible=!0,this.setChildIndex(this.btn_nextScene,this.numChildren-1)):this.btn_nextScene.visible=!1:this._sceneIndex>1&&(this.btn_nextScene.visible=!1))},n.addRecords=function(t){this._trainRecordsPanel.AddMsg(t)},e}(eui.Component);egret.registerClass(PracticePanel,"PracticePanel");var RecordsPanel=function(t){function e(){t.call(this),this.initData()}__extends(e,t);var i=(__define,e),n=i.prototype;return n.initData=function(){var t=new eui.Component;t.skinName="resource/eui_skins/Panel/RecordsPanelSkin.exml",this.addChild(t),t.x=0,t.y=0,t.btn_close.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onBtnClose,this),this._txt_info=t.getChildByName("txt_info"),this._txt_info.lineSpacing=3},n.onBtnClose=function(t){this.visible=!1},n.AddMsg=function(t,e){void 0===e&&(e="normal");var i,n;switch(e){case"right":i="#0000ff";break;case"wrong":i="#FF3333";break;case"normal":i="#000000";break;default:i="#999999"}n=this.getTime3(),""==this._txt_info.text?this._txt_info.text=n+t:this._txt_info.text=this._txt_info.text+"\r"+n+t},n.getTime3=function(){var t="",e=new Date,i=this.getPrefixNum(e.getHours()),n=this.getPrefixNum(e.getMinutes()),s=this.getPrefixNum(e.getSeconds());return t="["+i+":"+n+":"+s+"]   "},n.getPrefixNum=function(t){return 10>t&&t>=0?"0"+t.toString():t.toString()},e}(egret.Sprite);egret.registerClass(RecordsPanel,"RecordsPanel");var Scene2View=function(t){function e(){t.call(this),this.initData()}__extends(e,t);var i=(__define,e),n=i.prototype;return n.initData=function(){var t=this;this.skinName="resource/eui_skins/Scene/Scene2ViewSkin.exml";for(var e=0;e<this.numChildren;e++)this.getChildAt(e).visible=!1;var i=new egret.Shape;i.graphics.beginFill(16711680),i.graphics.drawRect(0,0,989,553),i.graphics.endFill(),this.addChild(i),i.x=10;var n=RES.getRes("mc_0_json"),s=RES.getRes("mc_0_png"),a=new egret.MovieClipDataFactory(n,s),o=new egret.MovieClip(a.generateMovieClipData("未命名-1"));this.addChildAt(o,1),o.x=10,o.mask=i,o.gotoAndPlay(1,1),o.addEventListener(egret.Event.COMPLETE,function(e){t.onSceneMCPlayCompleted()},this),this.cPoint_1_2.lock=!1,this.cPoint_2_2.lock=!1},n.onSceneMC_load_completed=function(t){this._sceneMC.removeEventListener(DataEvents.sceneMC_load_completed,this.onSceneMC_load_completed,this)},n.onSceneMC_play_completed=function(t){this._sceneMC.removeEventListener(DataEvents.sceneMC_play_completed,this.onSceneMC_play_completed,this),this.onSceneMCPlayCompleted()},n.onSceneMCPlayCompleted=function(){this.bg_1.visible=!0,this.cPoint_1_1.visible=!0,this.cPoint_2_1.visible=!0,this.partBtn_1.visible=!0,this.partBtn_2.visible=!0,this.partBtn_1.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onPartsBtnClick,this),this.partBtn_2.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onPartsBtnClick,this)},n.onPartsBtnClick=function(t){var e=t.currentTarget,i=Number(t.currentTarget.name.substr(8));switch(e.visible=!1,this.parent._partsPanel.showPart(i),i){case 1:this.parent.addRecords("拆下零件——通气帽左，放进零件箱中");break;case 2:this.parent.addRecords("拆下零件——通气帽右，放进零件箱中")}this["cPoint_"+i+"_1"].visible=!1,this["cPoint_"+i+"_2"].visible=!0},e}(eui.Component);egret.registerClass(Scene2View,"Scene2View");var Scene3View=function(t){function e(){t.call(this),this.initData()}__extends(e,t);var i=(__define,e),n=i.prototype;return n.initData=function(){var t=new egret.Shape;t.graphics.beginFill(16711680),t.graphics.drawRect(0,0,989,553),t.graphics.endFill(),this.addChild(t),t.x=10;var e=RES.getRes("mc_1_json"),i=RES.getRes("mc_1_png"),n=new egret.MovieClipDataFactory(e,i),s=new egret.MovieClip(n.generateMovieClipData("未命名-1"));this.addChildAt(s,1),s.x=10,s.mask=t,s.gotoAndPlay(1,1),s.addEventListener(egret.Event.COMPLETE,function(t){console.log(t.type)},this)},n.onSceneMC_load_completed=function(t){this._sceneMC.removeEventListener(DataEvents.sceneMC_load_completed,this.onSceneMC_load_completed,this)},n.onSceneMC_play_completed=function(t){this._sceneMC.removeEventListener(DataEvents.sceneMC_play_completed,this.onSceneMC_play_completed,this)},e}(eui.Component);egret.registerClass(Scene3View,"Scene3View");var StandardPanel=function(t){function e(){t.call(this),this.initData()}__extends(e,t);var i=(__define,e),n=i.prototype;return n.initData=function(){var t=new eui.Component;t.skinName="resource/eui_skins/Panel/StandardPanelSkin.exml",this.addChild(t),t.x=0,t.y=0,t.btn_close.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onBtnClose,this),this._txt_info=t.getChildByName("txt_info"),this._txt_info.lineSpacing=3,this._txt_info.text="1.拔出通气帽，用堵头进行密封；\r2.以双离合器“朝上”的方式，将变速箱固定在吊板（VW 309）和变速箱支架（VW 353）上;\r3.用一字螺丝刀拆下毂盘的卡环;\r4.用钩子（3438）和一字螺丝刀拆下毂盘;\r5.安装垫块（T10368）,并在垫块上安装垫片C;";var e=new eui.Group;e.addChild(this._txt_info);var i=new eui.Scroller;i.width=359,i.height=255,i.viewport=e,this.addChild(i),i.x=11,i.y=42},n.onBtnClose=function(t){this.visible=!1},e}(egret.Sprite);egret.registerClass(StandardPanel,"StandardPanel");var ToolsPanel=function(t){function e(){t.call(this),this.initData()}__extends(e,t);var i=(__define,e),n=i.prototype;return n.initData=function(){this.toolsPanel=new eui.Component,this.toolsPanel.skinName="resource/eui_skins/Panel/ToolsPanelSkin.exml",this.addChild(this.toolsPanel),this.toolsPanel.x=0,this.toolsPanel.y=0,this.toolsPanel.btn_close.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onBtnClose,this);for(var t=0;t<this.toolsPanel.numChildren;t++)-1!=this.toolsPanel.getChildAt(t).name.indexOf("toolBtn_")&&this.toolsPanel.getChildAt(t).addEventListener(egret.TouchEvent.TOUCH_TAP,this.onPartBtnClick,this)},n.onBtnClose=function(t){this.visible=!1},n.showPart=function(t){null!=this.toolsPanel["toolBtn_"+t]&&(this.toolsPanel["toolBtn_"+t].visible=!0)},n.hidePart=function(t){null!=this.toolsPanel["toolBtn_"+t]&&(this.toolsPanel["toolBtn_"+t].visible=!1)},n.onPartBtnClick=function(t){var e=t.currentTarget,i=parseInt(t.currentTarget.name.substr(8));e.visible=!1,this.visible=!1,this.dispatchEvent(new DataEvents(DataEvents.show_tool_index,i))},e}(egret.Sprite);egret.registerClass(ToolsPanel,"ToolsPanel");